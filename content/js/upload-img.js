$(document).ready(function(){var r="URL HERE",a="uploads/"+Date.now()+"_",e=($("#file_input").withDropZone("#drop_zone",{url:r,uploadBegin:function(e,n,o){console.log("begin: "+e)},uploadEnd:function(e,n,o){console.log("end: "+e)},done:function(e){console.log("done: "+e);for(var n=$("#result_images"),o=[`<b>Your image${1===e.length?"":"s:"}</b>`],t=0;t<e.length;t++){var i=r+a+e[t];o.push(`<a href="${i}">${r+a}<b>${e[t]}</b></a>`)}n.html(o.join("<br/>"))},action:function(e){var n,t="image/png"===this.files[e].type?(n={mimeType:"image/jpeg",maxWidth:150,maxHeight:150},".jpg"):n=null;return{name:"image",rename:function(e,n,o){return e+(t||n)},params:{preview:!0,convertTo:n}}},ifWrongFile:"show",wrapperForInvalidFile:function(e){return`<div style="margin: 20px 0; color: red;">File: "${this.files[e].name}" doesn't support</div>`},multiUploading:!0,formData:function(e,n,o){var t=new FormData;return t.set("key",a+o),t.set("file",n,o),t},ajaxSettings:function(e,n,o,t){e.error=function(e){return alert(`${e.status}: ${e.statusText}`)}}}),$("#file_input-tow").withDropZone("#drop_zone-tow",{url:r,uploadBegin:function(e,n,o){console.log("begin: "+e)},uploadEnd:function(e,n,o){console.log("end: "+e)},done:function(e){console.log("done: "+e);for(var n=$("#result_images"),o=[`<b>Your image${1===e.length?"":"s:"}</b>`],t=0;t<e.length;t++){var i=r+a+e[t];o.push(`<a href="${i}">${r+a}<b>${e[t]}</b></a>`)}n.html(o.join("<br/>"))},action:function(e){var n,t="image/png"===this.files[e].type?(n={mimeType:"image/jpeg",maxWidth:150,maxHeight:150},".jpg"):n=null;return{name:"image",rename:function(e,n,o){return e+(t||n)},params:{preview:!0,convertTo:n}}},ifWrongFile:"show",wrapperForInvalidFile:function(e){return`<div style="margin: 20px 0; color: red;">File: "${this.files[e].name}" doesn't support</div>`},multiUploading:!0,formData:function(e,n,o){var t=new FormData;return t.set("key",a+o),t.set("file",n,o),t},ajaxSettings:function(e,n,o,t){e.error=function(e){return alert(`${e.status}: ${e.statusText}`)}}}),$("#file_input-three").withDropZone("#drop_zone-three",{url:r,uploadBegin:function(e,n,o){console.log("begin: "+e)},uploadEnd:function(e,n,o){console.log("end: "+e)},done:function(e){console.log("done: "+e);for(var n=$("#result_images"),o=[`<b>Your image${1===e.length?"":"s:"}</b>`],t=0;t<e.length;t++){var i=r+a+e[t];o.push(`<a href="${i}">${r+a}<b>${e[t]}</b></a>`)}n.html(o.join("<br/>"))},action:function(e){var n,t="image/png"===this.files[e].type?(n={mimeType:"image/jpeg",maxWidth:150,maxHeight:150},".pdf"):n=null;return{name:"image",rename:function(e,n,o){return e+(t||n)},params:{preview:!0,convertTo:n}}},ifWrongFile:"show",wrapperForInvalidFile:function(e){return`<div style="margin: 20px 0; color: red;">File: "${this.files[e].name}" doesn't support</div>`},multiUploading:!0,formData:function(e,n,o){var t=new FormData;return t.set("key",a+o),t.set("file",n,o),t},ajaxSettings:function(e,n,o,t){e.error=function(e){return alert(`${e.status}: ${e.statusText}`)}}}));$("#upload_images").click(e.upload)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZC1pbWcuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJ1cmwiLCJmaWxlTmFtZVByZWZpeCIsIkRhdGUiLCJub3ciLCJyZXN1bHQiLCJ3aXRoRHJvcFpvbmUiLCJ1cGxvYWRCZWdpbiIsImZpbGVuYW1lIiwiZmlsZUluZGV4IiwiYmxvYiIsImNvbnNvbGUiLCJsb2ciLCJ1cGxvYWRFbmQiLCJkb25lIiwiZmlsZW5hbWVzIiwiaHJlZiIsImh0bWwiLCJsZW5ndGgiLCJwdXNoIiwiaSIsImpvaW4iLCJhY3Rpb24iLCJleHRlbnNpb24iLCJjb252ZXJ0VG8iLCJtYXhXaWR0aCIsImZpbGVzIiwidHlwZSIsIm1heEhlaWdodCIsIm1pbWVUeXBlIiwiZmlsZW5hbWVXaXRob3V0RXh0IiwibmFtZSIsInJlbmFtZSIsImV4dCIsInBhcmFtcyIsInByZXZpZXciLCJpZldyb25nRmlsZSIsIm11bHRpVXBsb2FkaW5nIiwidGhpcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJzZXQiLCJhamF4U2V0dGluZ3MiLCJzZXR0aW5ncyIsInN0YXR1c1RleHQiLCJlcnJvciIsImUiLCJhbGVydCIsInN0YXR1cyIsIndyYXBwZXJGb3JJbnZhbGlkRmlsZSIsImluZGV4IiwiY2xpY2siLCJ1cGxvYWQiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBQ2QsSUFBSUMsRUFBTSxXQUNOQyxFQUFpQixXQUFhQyxLQUFLQyxNQUFRLElBb0x2Q0MsR0FsTGlEUCxFQUFBLGVBQUFRLGFBQUEsYUFBQSxDQUMzQ0wsSUFBQUEsRUFDVk0sWUFBYSxTQUFVQyxFQUFVQyxFQUFwQkMsR0FDVEMsUUFBWUMsSUFBQSxVQUFZSixJQUU1QkssVUFBVyxTQUFVTCxFQUFVQyxFQUFwQkMsR0FDUEMsUUFBWUMsSUFBQSxRQUFVSixJQUV0Qk0sS0FBRSxTQUFVQyxHQUNaSixRQUFZQyxJQUFBLFNBQVdHLEdBTWZDLElBTEpYLElBQU1BLEVBQUtQLEVBQUEs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U0FBU0QsRUFBRUUsV0FBV0YsRUFBRUYsbUJBSzNDOUMsRUFBRSxrQkFBa0JxRCxNQUFNOUMsRUFBTytDIiwiZmlsZSI6InVwbG9hZC1pbWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdXJsID0gJ1VSTCBIRVJFJztcclxuICAgIHZhciBmaWxlTmFtZVByZWZpeCA9ICd1cGxvYWRzLycgKyBEYXRlLm5vdygpICsgJ18nO1xyXG5cclxuICAgIHZhciByZXN1bHQgPSAkKCcjZmlsZV9pbnB1dCcpLndpdGhEcm9wWm9uZSgnI2Ryb3Bfem9uZScsIHtcclxuICAgICAgICB1cmw6IHVybCwgLy8gY29tbW9uIHBhZ2UgZm9yIGV2ZXJ5XHJcbiAgICAgICAgdXBsb2FkQmVnaW46IGZ1bmN0aW9uIChmaWxlbmFtZSwgZmlsZUluZGV4LCBibG9iKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiZWdpbjogJyArIGZpbGVuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwbG9hZEVuZDogZnVuY3Rpb24gKGZpbGVuYW1lLCBmaWxlSW5kZXgsIGJsb2IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZDogJyArIGZpbGVuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRvbmU6IGZ1bmN0aW9uIChmaWxlbmFtZXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RvbmU6ICcgKyBmaWxlbmFtZXMpO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gJCgnI3Jlc3VsdF9pbWFnZXMnKTtcclxuICAgICAgICAgICAgdmFyIGh0bWwgPSBbXHJcbiAgICAgICAgICAgICAgICBgPGI+WW91ciBpbWFnZSR7ZmlsZW5hbWVzLmxlbmd0aCA9PT0gMSA/ICcnIDogJ3M6J308L2I+YCxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlbmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBocmVmID0gdXJsICsgZmlsZU5hbWVQcmVmaXggKyBmaWxlbmFtZXNbaV07XHJcbiAgICAgICAgICAgICAgICBodG1sLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgYDxhIGhyZWY9XCIke2hyZWZ9XCI+JHt1cmwgKyBmaWxlTmFtZVByZWZpeH08Yj4ke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZXNbaV1cclxuICAgICAgICAgICAgICAgICAgICB9PC9iPjwvYT5gXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5odG1sKGh0bWwuam9pbignPGJyLz4nKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChmaWxlSW5kZXgpIHtcclxuICAgICAgICAgICAgLy8geW91IGNhbiBjaGFuZ2UgeW91ciBmaWxlXHJcbiAgICAgICAgICAgIC8vIGZvciBleGFtcGxlOlxyXG4gICAgICAgICAgICB2YXIgY29udmVydFRvO1xyXG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9uO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tmaWxlSW5kZXhdLnR5cGUgPT09ICdpbWFnZS9wbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBjb252ZXJ0VG8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9qcGVnJyxcclxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogMTUwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogMTUwLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9ICcuanBnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnZlcnRUbyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2ltYWdlJyxcclxuICAgICAgICAgICAgICAgIHJlbmFtZTogZnVuY3Rpb24gKGZpbGVuYW1lV2l0aG91dEV4dCwgZXh0LCBmaWxlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZW5hbWVXaXRob3V0RXh0ICsgKGV4dGVuc2lvbiB8fCBleHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udmVydFRvOiBjb252ZXJ0VG8sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWZXcm9uZ0ZpbGU6ICdzaG93JyxcclxuICAgICAgICB3cmFwcGVyRm9ySW52YWxpZEZpbGU6IGZ1bmN0aW9uIChmaWxlSW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IHN0eWxlPVwibWFyZ2luOiAyMHB4IDA7IGNvbG9yOiByZWQ7XCI+RmlsZTogXCIke3RoaXMuZmlsZXNbZmlsZUluZGV4XS5uYW1lfVwiIGRvZXNuJ3Qgc3VwcG9ydDwvZGl2PmA7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbXVsdGlVcGxvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgZm9ybURhdGE6IGZ1bmN0aW9uIChmaWxlSW5kZXgsIGJsb2IsIGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBmb3JtRGF0YS5zZXQoJ2tleScsIGZpbGVOYW1lUHJlZml4ICsgZmlsZW5hbWUpOyAvLyBrZXkgd2lsbCBiZSBmaWxlIG5hbWUgaW4gUzNcclxuICAgICAgICAgICAgZm9ybURhdGEuc2V0KCdmaWxlJywgYmxvYiwgZmlsZW5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybURhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBPUiBmb3Igc2luZ2xlIHVwbG9hZFxyXG4gICAgICAgIC8vIG11bHRpVXBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAvLyBmb3JtRGF0YTogZnVuY3Rpb24oYmxvYnMsIGZpbGVuYW1lcykge1xyXG4gICAgICAgIC8vICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhO1xyXG4gICAgICAgIC8vICAgZm9ybURhdGEuc2V0KFwia2V5XCIsIGZpbGVOYW1lUHJlZml4ICsgZmlsZW5hbWUpO1xyXG4gICAgICAgIC8vICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9icy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICBmb3JtRGF0YS5hdHRhY2goXCJmaWxlXCIsIGJsb2JzW2ldLCBmaWxlbmFtZXNbaV0pO1xyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vICAgcmV0dXJuIGZvcm1EYXRhXHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICAvLyBidXQgQW1hem9uIFMzIGRvZXNuJ3QgYWxsb3cgaXRcclxuXHJcbiAgICAgICAgYWpheFNldHRpbmdzOiBmdW5jdGlvbiAoc2V0dGluZ3MsIGluZGV4LCBmaWxlbmFtZSwgYmxvYikge1xyXG4gICAgICAgICAgICAvLyBzZXR0aW5ncy51cmwgPSBcIi9zb21lX3NwZWNpZmljX3BhZ2VcIlxyXG4gICAgICAgICAgICAvLyBzZXR0aW5ncy5kYXRhLnNldChcImtleVwiLCBcIkFLSUFKMjZIWVA3WkJYM1VOQkxBXCIpICAvLyBleHRyYSBwYXJhbWV0ZXJzXHJcbiAgICAgICAgICAgIHNldHRpbmdzLmVycm9yID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbGVydChgJHtlLnN0YXR1c306ICR7ZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gJCgnI2ZpbGVfaW5wdXQtdG93Jykud2l0aERyb3Bab25lKCcjZHJvcF96b25lLXRvdycsIHtcclxuICAgICAgICB1cmw6IHVybCwgLy8gY29tbW9uIHBhZ2UgZm9yIGV2ZXJ5XHJcbiAgICAgICAgdXBsb2FkQmVnaW46IGZ1bmN0aW9uIChmaWxlbmFtZSwgZmlsZUluZGV4LCBibG9iKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdiZWdpbjogJyArIGZpbGVuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwbG9hZEVuZDogZnVuY3Rpb24gKGZpbGVuYW1lLCBmaWxlSW5kZXgsIGJsb2IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VuZDogJyArIGZpbGVuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRvbmU6IGZ1bmN0aW9uIChmaWxlbmFtZXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RvbmU6ICcgKyBmaWxlbmFtZXMpO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gJCgnI3Jlc3VsdF9pbWFnZXMnKTtcclxuICAgICAgICAgICAgdmFyIGh0bWwgPSBbXHJcbiAgICAgICAgICAgICAgICBgPGI+WW91ciBpbWFnZSR7ZmlsZW5hbWVzLmxlbmd0aCA9PT0gMSA/ICcnIDogJ3M6J308L2I+YCxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlbmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBocmVmID0gdXJsICsgZmlsZU5hbWVQcmVmaXggKyBmaWxlbmFtZXNbaV07XHJcbiAgICAgICAgICAgICAgICBodG1sLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgYDxhIGhyZWY9XCIke2hyZWZ9XCI+JHt1cmwgKyBmaWxlTmFtZVByZWZpeH08Yj4ke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZXNbaV1cclxuICAgICAgICAgICAgICAgICAgICB9PC9iPjwvYT5gXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5odG1sKGh0bWwuam9pbignPGJyLz4nKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChmaWxlSW5kZXgpIHtcclxuICAgICAgICAgICAgLy8geW91IGNhbiBjaGFuZ2UgeW91ciBmaWxlXHJcbiAgICAgICAgICAgIC8vIGZvciBleGFtcGxlOlxyXG4gICAgICAgICAgICB2YXIgY29udmVydFRvO1xyXG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9uO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5maWxlc1tmaWxlSW5kZXhdLnR5cGUgPT09ICdpbWFnZS9wbmcnKSB7XHJcbiAgICAgICAgICAgICAgICBjb252ZXJ0VG8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6ICdpbWFnZS9qcGVnJyxcclxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogMTUwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogMTUwLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9ICcuanBnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnZlcnRUbyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2ltYWdlJyxcclxuICAgICAgICAgICAgICAgIHJlbmFtZTogZnVuY3Rpb24gKGZpbGVuYW1lV2l0aG91dEV4dCwgZXh0LCBmaWxlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZW5hbWVXaXRob3V0RXh0ICsgKGV4dGVuc2lvbiB8fCBleHQpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udmVydFRvOiBjb252ZXJ0VG8sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaWZXcm9uZ0ZpbGU6ICdzaG93JyxcclxuICAgICAgICB3cmFwcGVyRm9ySW52YWxpZEZpbGU6IGZ1bmN0aW9uIChmaWxlSW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGA8ZGl2IHN0eWxlPVwibWFyZ2luOiAyMHB4IDA7IGNvbG9yOiByZWQ7XCI+RmlsZTogXCIke3RoaXMuZmlsZXNbZmlsZUluZGV4XS5uYW1lfVwiIGRvZXNuJ3Qgc3VwcG9ydDwvZGl2PmA7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbXVsdGlVcGxvYWRpbmc6IHRydWUsXHJcbiAgICAgICAgZm9ybURhdGE6IGZ1bmN0aW9uIChmaWxlSW5kZXgsIGJsb2IsIGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBmb3JtRGF0YS5zZXQoJ2tleScsIGZpbGVOYW1lUHJlZml4ICsgZmlsZW5hbWUpOyAvLyBrZXkgd2lsbCBiZSBmaWxlIG5hbWUgaW4gUzNcclxuICAgICAgICAgICAgZm9ybURhdGEuc2V0KCdmaWxlJywgYmxvYiwgZmlsZW5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybURhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBPUiBmb3Igc2luZ2xlIHVwbG9hZFxyXG4gICAgICAgIC8vIG11bHRpVXBsb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAvLyBmb3JtRGF0YTogZnVuY3Rpb24oYmxvYnMsIGZpbGVuYW1lcykge1xyXG4gICAgICAgIC8vICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhO1xyXG4gICAgICAgIC8vICAgZm9ybURhdGEuc2V0KFwia2V5XCIsIGZpbGVOYW1lUHJlZml4ICsgZmlsZW5hbWUpO1xyXG4gICAgICAgIC8vICAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9icy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICBmb3JtRGF0YS5hdHRhY2goXCJmaWxlXCIsIGJsb2JzW2ldLCBmaWxlbmFtZXNbaV0pO1xyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vICAgcmV0dXJuIGZvcm1EYXRhXHJcbiAgICAgICAgLy8gfSxcclxuICAgICAgICAvLyBidXQgQW1hem9uIFMzIGRvZXNuJ3QgYWxsb3cgaXRcclxuXHJcbiAgICAgICAgYWpheFNldHRpbmdzOiBmdW5jdGlvbiAoc2V0dGluZ3MsIGluZGV4LCBmaWxlbmFtZSwgYmxvYikge1xyXG4gICAgICAgICAgICAvLyBzZXR0aW5ncy51cmwgPSBcIi9zb21lX3NwZWNpZmljX3BhZ2VcIlxyXG4gICAgICAgICAgICAvLyBzZXR0aW5ncy5kYXRhLnNldChcImtleVwiLCBcIkFLSUFKMjZIWVA3WkJYM1VOQkxBXCIpICAvLyBleHRyYSBwYXJhbWV0ZXJzXHJcbiAgICAgICAgICAgIHNldHRpbmdzLmVycm9yID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbGVydChgJHtlLnN0YXR1c306ICR7ZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gJCgnI2ZpbGVfaW5wdXQtdGhyZWUnKS53aXRoRHJvcFpvbmUoJyNkcm9wX3pvbmUtdGhyZWUnLCB7XHJcbiAgICAgICAgdXJsOiB1cmwsIC8vIGNvbW1vbiBwYWdlIGZvciBldmVyeVxyXG4gICAgICAgIHVwbG9hZEJlZ2luOiBmdW5jdGlvbiAoZmlsZW5hbWUsIGZpbGVJbmRleCwgYmxvYikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYmVnaW46ICcgKyBmaWxlbmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1cGxvYWRFbmQ6IGZ1bmN0aW9uIChmaWxlbmFtZSwgZmlsZUluZGV4LCBibG9iKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlbmQ6ICcgKyBmaWxlbmFtZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkb25lOiBmdW5jdGlvbiAoZmlsZW5hbWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkb25lOiAnICsgZmlsZW5hbWVzKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICQoJyNyZXN1bHRfaW1hZ2VzJyk7XHJcbiAgICAgICAgICAgIHZhciBodG1sID0gW1xyXG4gICAgICAgICAgICAgICAgYDxiPllvdXIgaW1hZ2Uke2ZpbGVuYW1lcy5sZW5ndGggPT09IDEgPyAnJyA6ICdzOid9PC9iPmAsXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZW5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaHJlZiA9IHVybCArIGZpbGVOYW1lUHJlZml4ICsgZmlsZW5hbWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaHRtbC5wdXNoKFxyXG4gICAgICAgICAgICAgICAgICAgIGA8YSBocmVmPVwiJHtocmVmfVwiPiR7dXJsICsgZmlsZU5hbWVQcmVmaXh9PGI+JHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWVzW2ldXHJcbiAgICAgICAgICAgICAgICAgICAgfTwvYj48L2E+YFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQuaHRtbChodG1sLmpvaW4oJzxici8+JykpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoZmlsZUluZGV4KSB7XHJcbiAgICAgICAgICAgIC8vIHlvdSBjYW4gY2hhbmdlIHlvdXIgZmlsZVxyXG4gICAgICAgICAgICAvLyBmb3IgZXhhbXBsZTpcclxuICAgICAgICAgICAgdmFyIGNvbnZlcnRUbztcclxuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZXNbZmlsZUluZGV4XS50eXBlID09PSAnaW1hZ2UvcG5nJykge1xyXG4gICAgICAgICAgICAgICAgY29udmVydFRvID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiAnaW1hZ2UvanBlZycsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDE1MCxcclxuICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IDE1MCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb24gPSAnLnBkZic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb252ZXJ0VG8gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdpbWFnZScsXHJcbiAgICAgICAgICAgICAgICByZW5hbWU6IGZ1bmN0aW9uIChmaWxlbmFtZVdpdGhvdXRFeHQsIGV4dCwgZmlsZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVuYW1lV2l0aG91dEV4dCArIChleHRlbnNpb24gfHwgZXh0KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnRUbzogY29udmVydFRvLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlmV3JvbmdGaWxlOiAnc2hvdycsXHJcbiAgICAgICAgd3JhcHBlckZvckludmFsaWRGaWxlOiBmdW5jdGlvbiAoZmlsZUluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBzdHlsZT1cIm1hcmdpbjogMjBweCAwOyBjb2xvcjogcmVkO1wiPkZpbGU6IFwiJHt0aGlzLmZpbGVzW2ZpbGVJbmRleF0ubmFtZX1cIiBkb2Vzbid0IHN1cHBvcnQ8L2Rpdj5gO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG11bHRpVXBsb2FkaW5nOiB0cnVlLFxyXG4gICAgICAgIGZvcm1EYXRhOiBmdW5jdGlvbiAoZmlsZUluZGV4LCBibG9iLCBmaWxlbmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgZm9ybURhdGEuc2V0KCdrZXknLCBmaWxlTmFtZVByZWZpeCArIGZpbGVuYW1lKTsgLy8ga2V5IHdpbGwgYmUgZmlsZSBuYW1lIGluIFMzXHJcbiAgICAgICAgICAgIGZvcm1EYXRhLnNldCgnZmlsZScsIGJsb2IsIGZpbGVuYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1EYXRhO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gT1IgZm9yIHNpbmdsZSB1cGxvYWRcclxuICAgICAgICAvLyBtdWx0aVVwbG9hZGluZzogZmFsc2UsXHJcbiAgICAgICAgLy8gZm9ybURhdGE6IGZ1bmN0aW9uKGJsb2JzLCBmaWxlbmFtZXMpIHtcclxuICAgICAgICAvLyAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YTtcclxuICAgICAgICAvLyAgIGZvcm1EYXRhLnNldChcImtleVwiLCBmaWxlTmFtZVByZWZpeCArIGZpbGVuYW1lKTtcclxuICAgICAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAgICAgZm9ybURhdGEuYXR0YWNoKFwiZmlsZVwiLCBibG9ic1tpXSwgZmlsZW5hbWVzW2ldKTtcclxuICAgICAgICAvLyAgIH1cclxuICAgICAgICAvLyAgIHJldHVybiBmb3JtRGF0YVxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgLy8gYnV0IEFtYXpvbiBTMyBkb2Vzbid0IGFsbG93IGl0XHJcblxyXG4gICAgICAgIGFqYXhTZXR0aW5nczogZnVuY3Rpb24gKHNldHRpbmdzLCBpbmRleCwgZmlsZW5hbWUsIGJsb2IpIHtcclxuICAgICAgICAgICAgLy8gc2V0dGluZ3MudXJsID0gXCIvc29tZV9zcGVjaWZpY19wYWdlXCJcclxuICAgICAgICAgICAgLy8gc2V0dGluZ3MuZGF0YS5zZXQoXCJrZXlcIiwgXCJBS0lBSjI2SFlQN1pCWDNVTkJMQVwiKSAgLy8gZXh0cmEgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5lcnJvciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnQoYCR7ZS5zdGF0dXN9OiAke2Uuc3RhdHVzVGV4dH1gKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI3VwbG9hZF9pbWFnZXMnKS5jbGljayhyZXN1bHQudXBsb2FkKTtcclxufSk7XHJcbiJdfQ==
